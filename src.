import matplotlib.pyplot as plt
import numpy as np

def validate_data(data):
    if not isinstance(data, np.ndarray):
        raise ValueError("Input data must be a numpy array.")
    if len(data) == 0:
        raise ValueError("Input data array is empty.")

try:
    # Create an array of values from 0 to 10
    x = np.arange(0, 11)
    validate_data(x)
    
    # Square each value in the array
    y = x**2
    validate_data(y)
    
    # Plot the values
    plt.plot(x, y, marker='o', linestyle='-', color='b', label='y = x^2')
    
    # Add title and labels
    plt.title("Square of X")
    plt.xlabel("X")
    plt.ylabel("Square of X")
    
    # Add legend
    plt.legend()
    
    # Add grid lines
    plt.grid(True)
    
    # Display the plot
    plt.show()

except ValueError as e:
    print(f"Data validation error: {e}")
except Exception as e:
    print(f"An unexpected error occurred: {e}")
